!function(t){"use strict";var e={override:function(e){const n=e.timeout||0;e.timeout=1e3*parseInt(n);const o=e.restful||0;e.restful=1===parseInt(o);const i=e.debug||0;return e.debug=1===parseInt(i),e=t.extend({baseUrl:"/",assetUrl:"/",ajaxUrl:"/",restUrl:"/",adminUrl:"/",loginUrl:"/",logoutUrl:"/",namespace:null,name:null,lang:null,linking:{},inputs:{},strings:{},overrided:!0},e)}};e.init=function(n,o){const i=this;return i.reloading=!1,n?.overrided||(n=i.override(n)),"inter"==(o=t.extend({color:"#000",submission:"inter"},o)).submission&&"exter"!==o.submission&&t("form").on("submit",(function(t){t.preventDefault(),i.doLog("Default submit disabled")})),t('a[href="#"]').click((function(t){t.preventDefault(),i.doLog("Default click disabled")})),e.request=function(e){e=t.extend({type:"POST",dataType:"JSON",data:{},url:n.ajaxUrl,timeout:n.timeout,success:function(t){},error:function(t,e,n){},complete:function(){}},e),t.ajax(e)},e.doAjax=function(e,o){"string"==typeof e&&(e=t(e));const a=e?.prop("tagName");if(!a)return void i.doLog("Missing element (ajax)");(o=t.extend({data:{},files:[],silent:!1,loading:!0,successCb:function(){},errorCb:function(){},completeCb:function(){}},o)).loading&&i.loading(e);let s=o.data.action||null;s||(s="FORM"==a?e.find('input[name="action"]').val()||e.data("action"):e.attr("data-action")),s=i.applyNamesapce(s),s&&(o.data["--action"]=s);let r=o.data.token||null;if(!r)if("FORM"==a)r=e.find('input[name="token"]').val()||e.data("token");else{r=e.parent("div").find("[data-token]").attr("data-token")||e.attr("data-token")}if(o.data["--token"]=r||n.token,(o=t.extend({success:function(t){o.successCb(t);const e=t?.content?.silent||o.silent,n=t?.message||null,a=t?.status||"info";n&&!1===e&&i.notify(n,a);if(!0===(t?.content?.reload||i.reloading))return void i.reload(1500);const s=t?.content?.redirect||null;"string"!=typeof s||i.redirect(s)},error:function(t,e,n){if(o.errorCb(n),!1===o.silent){const t=i.getString("error")||"error";i.notifyMore(t,n,"error")}},complete:function(){o.completeCb(),i.unloading(e)}},o)).files.length){const e=o.files,n=new FormData;e.forEach(((t,e)=>{n.append(e,t)})),t.each(o.data,(function(t,e){n.append(t,e)})),o.data=n,o.processData=!1,o.contentType=!1}i.request(o)},e.fetch=async function(t,e){try{return await fetch(t,e)}catch(t){throw t}},e.doFetch=function(e,o){"string"==typeof e&&(e=t(e));const a=e?.prop("tagName");if(!a)return void i.doLog("Missing element (fetch)");(o=t.extend({method:"POST",headers:{},data:{},timeout:n.timeout,silent:!1,loading:!0,successCb:function(){},errorCb:function(){},completeCb:function(){}},o)).loading&&i.loading(e);let s=o.data.action||null;s||(s="FORM"==a?e.find('input[name="action"]').val()||e.data("action"):e.attr("data-action")),s=i.applyNamesapce(s)||"";let r=o.data.token||null;if(!r)if("FORM"==a)r=e.find('input[name="token"]').val()||e.attr("data-token");else{r=e.parent("div").find("[data-token]").attr("data-token")||e.attr("data-token")}r=r||n.token;const c=t.extend({"Content-Type":"application/json","X-Token":r},o.headers),l=i.formatUrl(`${n.restUrl}/${s}/`);i.fetch(l,{headers:c,method:o.method,signal:AbortSignal.timeout(o.timeout),body:JSON.stringify(o.data)}).then((t=>{if(!t.ok)throw new Error(t.statusText);return t.json()})).then((t=>{o.successCb(t);const e=t?.content?.silent||o.silent,n=t?.message||null,a=t?.status||"info";n&&!1===e&&i.notify(n,a);if(!0===(t?.content?.reload||i.reloading))return void i.reload(1500);const s=t?.content?.redirect||null;"string"!=typeof s||i.redirect(s)})).catch((t=>{if(o.errorCb(t.message),!1===o.silent){const e=i.getString("error")||"error";i.notifyMore(e,t,"error")}})).finally((()=>{o.completeCb(),i.unloading(e)}))},e.saveHooks=function(e,o,a){if(!n.hooks)return;const s=n.hooks[e]||{};if(i.isEmpty(s))return;const r={};if(t.each(s,(function(t){const n=o.find(`[name="${t}"]`),a=n?.prop("tagName");if(a&&"BUTTON"!=a&&"p"!=a&&n.length){const o=n.attr("type")||"text",c=n.attr("step")||!1;let l;l="CHECKBOX"==a?i.toBool(n.is(":checked")):"INPUT"==a&&"number"==o?!1!==c?i.toFloat(n.val()):i.toInt(n.val()):i.toStr(n.val());l!==i.toStr(s[t])&&(r[e]={},r[e][t]=l)}})),!i.isEmpty(r))if((a=t.extend({action:"save-hooks",endpoint:"hooks",token:!1,silent:!0,loading:!1},a)).data={hooks:r},1==n.restful)i.doFetch(o,a);else{const t=o.find('input[name="hook-token"]').val();a.token=t,i.doAjax(o,a)}},e.isLoading=function(e){"string"==typeof e&&(e=t(e));const n=e?.prop("tagName");if(n)return"FORM"==n?e.find('[type="submit"]').hasClass("icon-loading"):e.hasClass("icon-loading");i.doLog("Missing element (isLoading)")},e.unloading=function(e){"string"==typeof e&&(e=t(e));const n=e?.prop("tagName");if(n)if("FORM"==n){const t=e.find('[type="submit"]');t.length&&(t.removeClass("icon-loading"),t.prop("disabled",!1))}else e.removeClass("icon-loading");else i.doLog("Missing element (unloading)")},e.loading=function(e){"string"==typeof e&&(e=t(e));const n=e?.prop("tagName");if(n)if("FORM"==n){const t=e.find('[type="submit"]');t.length&&(t.addClass("icon-loading"),t.prop("disabled",!0))}else e.addClass("icon-loading");else i.doLog("Missing element (loading)")},e.popup=function(t,e,n){"undefined"!=typeof swal?(t=t||"",n=n||"",e=e||"success",swal.fire({icon:e,title:t,html:n,heightAuto:!1,confirmButtonColor:o.color,allowOutsideClick:!1})):i.doLog("Missing popup library (SWAL)")},e.popupMore=function(t,e,n){const o=`${t}<br><small>${e}</small>`;i.popup(o,n)},e.notify=function(e,n,o){e=e||!1,n=n||"success",o=void 0!==o?o:3e3;const i=".toast.--notification",a=t("body");let s=t(i),r=s.find(".toast-body p"),c=s.find(".toast-body i"),l="bi-check-circle";if("error"==n?l="bi-x-circle":"warning"==n?l="bi-exclamation-circle":"info"==n&&(l="bi-question-circle"),l=`bi ${l}`,s.length)s.attr("data-bs-delay",o),s.attr("data-type",n),c.attr("class","").addClass(l),r.html(e);else{const d={className:"toast --notification",role:"alert",ariaLive:"assertive",ariaAtomic:"true",dataDelay:o},u={type:"button",className:"btn-close",dataDismiss:"toast",ariaLabel:"Close"};let f=`\n                <div class="${d.className}" \n                    role="${d.role}" \n                    aria-live="${d.ariaLive}" \n                    aria-atomic="${d.ariaAtomic}" \n                    data-type="${n}" \n                    data-bs-delay="${d.dataDelay}">\n                `;f+=`\n                <div class="toast-body">\n                    <i class="${l}"></i>\n                    <p>${e}</p>\n                </div>\n                `,f+=`\n                <button type="${u.type}" \n                    class="${u.className}" \n                    data-bs-dismiss="${u.dataDismiss}" \n                    aria-label="${u.ariaLabel}">\n                </button>\n                </div>\n                `,a.find(i).remove(),a.append(f),s=t(i),r=s.find(".toast-body p"),c=s.find(".toast-body i")}o>0&&setTimeout((()=>{s.removeClass("show"),r.html("{}")}),o),s.find(".btn-close").on("click",(function(t){t.preventDefault(),s.removeClass("show"),r.html("{}")})),s.addClass("show")},e.notifyMore=function(t,e,n,o){t=`${t}<br><small>${e}</small>`,i.notify(t,n,o)},e.confirm=function(e){if("function"!=typeof t.confirm)return void i.doLog("Missing confirm library");const n=(e=t.extend({element:null,message:null,confirmCb:null,cancelCb:null},e)).element,o=e.confirmCb||function(){},a=e.cancelCb||function(){n&&i.unloading(n)},s=i.getString(),r=e.message||s.confirm||"",c=s.confirmation||"confirmation",l=s.yes||"yes",d=s.cancel||"cancel";t.confirm({title:c,content:r,animation:"none",buttons:{confirm:{text:l,btnClass:"btn-primary",action:o},cancel:{text:d,action:a}}})},e.wait=async function(t,e){e=e||500,await new Promise((t=>setTimeout(t,e))),"function"==typeof t&&t()},e.parseInputs=function(e,o){if(!n.inputs)return;const a=n.inputs[e].values||{};if(i.isEmpty(a))return;let s={};return t.each(a,(function(t,e){const n=e?.type+'[name="'+t+'"]',a=o.find(n);let r;r="bool"==e?.format?i.toBool(a.is(":checked")):"int"==e?.format?i.toInt(a.val()):"float"==e?.format?i.toFloat(a.val()):i.toStr(a.val()),s[t]=r})),s},e.parseFiles=function(e){let n=[];const o=e.find('.file-upload input[type="file"]');return o.length&&o.each((function(){const e=t(this).prop("files");for(let t=0;t<e.length;t++)n.push(e[t])})),n},e.copyClipboard=async function(t){if(navigator.clipboard)try{await navigator.clipboard.writeText(t)}catch(t){}else await i.copyClipboardLegacy(t)},e.getStringDate=function(){const t=new Date;return`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}-${t.getHours()}-${t.getMinutes()}-${t.getSeconds()}`},e.downloadFile=function(t,e,n){const o=new Blob([t],{type:e}),i=document.createElement("a");i.download=n,i.href=URL.createObjectURL(o),i.dataset.downloadurl=[e,i.download,i.href].join(":"),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),setTimeout((function(){URL.revokeObjectURL(i.href)}),1e3)},e.initCodeEditor=function(e,n){if("undefined"==typeof CodeMirror)return void i.doLog("Missing editor library (CodeMirror)");const o=document.querySelector(e);if(!o)return;const a=o.getAttribute("data-mode")||"html",s=o.getAttribute("data-theme")||"monokai";n=t.extend({mode:a,theme:s,lineNumbers:!0,autoRefresh:!0,autofocus:!0,autoCloseTags:!0,autoCloseBrackets:!0,matchBrackets:!0,indentWithTabs:!0,indentUnit:2,tabSize:2,scrollbarStyle:"simple",placeholder:"HTML code"},n);const r=CodeMirror.fromTextArea(o,n);r&&r.on("change",(function(){o.value=r.getValue()}))},e.isDuplicated=function(){if("function"==typeof window.IsDuplicate){if(window.IsDuplicate()){const t=i.getString("opened")||"opened";i.notify(t,"warning",1e4)}return this}i.doLog("Missing duplicated window library")},e.isConnected=function(e){t(window).on("online",(function(){i.online(e)})),t(window).on("offline",(function(){i.offline(e)}))},e.reload=function(t){t=t||1e3,i.wait((()=>{location.reload()}),t)},e.redirect=function(t,e){"string"==typeof t&&(e=e||1e3,i.wait((()=>{i.goTo(t)}),e))},e.activate=function(e){"string"==typeof e&&(e=t(e)),e=e||t('form[name="activate"]'),i.isForm(e)?e.on("submit",(function(e){e.preventDefault();const o=t(this);i.isLoading(o)||i.doAjax(o,{data:{activation:i.parseInputs("activation",o)},timeout:10*n.timeout,success:function(t){i.saveHooks("activation",o),i.toStorage("nav-tab","#activation-tab",1e4);const e=t.message,n=t.content.message;i.popupMore(e,n,t.status),t.content?.reload&&i.reload(1500)},error:function(t){const e=i.getString("activation").error||"activation",n=i.getString("global").error||"error";i.popupMore(e,n,"error")}})})):i.doLog("Missing form (activate)")},e.register=function(e){"string"==typeof e&&(e=t(e)),e=e||t('form[name="register"]'),i.isForm(e)?e.on("submit",(function(e){e.preventDefault();const o=t(this);if(i.isLoading(o))return;const a=i.parseFiles(o);if(a.length)i.doAjax(o,{files:a,timeout:10*n.timeout});else{i.unloading(o);const t=i.getString("upload").error||"error";i.notify(t,"warning")}})):i.doLog("Missing form (register)")},e.unregister=function(e){"string"==typeof e&&(e=t(e)),e.length?e.on("click",(function(e){e.preventDefault();const o=t(this);i.isLoading(o)||(1==n.restful?i.doFetch(o):i.doAjax(o))})):i.doLog("Missing element (unregister)")},e.saveSettings=function(e){"string"==typeof e&&(e=t(e)),e=e||t('form[name="settings"]'),i.isForm(e)?e.on("submit",(function(e){e.preventDefault();const o=t(this);if(i.isLoading(o))return;const a={data:i.parseInputs("settings",o),successCb:function(t){i.saveHooks("settings",o)}};1==n.restful?i.doFetch(o,a):i.doAjax(o,a)})):i.doLog("Missing form (settings)")},e.purgeCache=function(e){"string"==typeof e&&(e=t(e)),e=e||t('[data-name="purge-cache"]'),e?.length?e.on("click",(function(e){e.preventDefault();const o=t(this);i.isLoading(o)||i.confirm({confirmCb:function(){const t=o.attr("data-action")||"/admin/cache/",e=o.attr("data-method")||"DELETE",a={"--token":n.token},s={url:i.getBaseUrl(t,!0),type:e,timeout:10*n.timeout,data:a};1==n.restful?i.doFetch(o,s):i.doAjax(o,s)}})})):i.doLog("Missing element (purge cache)")},e.update=function(){const e=t("body").attr("data-page")||null;if(!e)return void i.doLog("Page not found, Nothing to update");const o=t(`form[name="${e}"]`);o.length?o.on("submit",(function(e){e.preventDefault();const o=t(this);i.isLoading(o)||i.confirm({confirmCb:function(){const t=o.attr("action")||o.data("action")||window.location.pathname,e=o.attr("method")||o.data("method")||"POST";let a=o.serializeArray();a.push({name:"--token",value:n.token}),a=i.toObject(a);const s={url:i.getBaseUrl(t,!0),type:e,data:a,timeout:10*n.timeout};1==n.restful?i.doFetch(o,s):i.doAjax(o,s)}})})):i.doLog(`Form '${e}' not found`)},e.login=function(e){"string"==typeof e&&(e=t(e)),e=e||t('form[name="login"]'),i.isForm(e)?e.on("submit",(function(e){e.preventDefault();const o=t(this);if(i.isLoading(o))return;const a={url:n.loginUrl,data:{user:o.find('input[name="user"]').val(),pswd:o.find('input[name="pswd"]').val()},success:function(t){const e=t?.message||"error",o=t?.status||"error";i.notify(e,o),"success"==o&&i.wait((()=>{i.goTo(n.adminUrl)}),1e3)},error:function(t){const e=t?.responseJSON?.message||"error",n=t?.responseJSON?.status||"error";i.notify(e,n)}};1==n.restful?i.doFetch(o,a):i.doAjax(o,a)})):i.doLog("Missing form (login)")},e.logout=function(e){if("string"==typeof e&&(e=t(e)),e=e||t(".logout"),!e?.length)return void i.doLog("Missing element (logout)");let o=`${n.logoutUrl}?--token=${n.token}`;o=i.getBaseUrl(o),e.on("click",(function(e){e.preventDefault(),t("body").trigger("click"),i.notify(i.getString("logout"),"warning"),i.wait((()=>{i.goTo(o)}),1e3)}))},e.initTooltip=function(e){if(void 0===t.tooltipster)return void i.doLog("Missing tooltipster library");let n=(e=t.extend({item:"tooltip",theme:!1,width:400},e)).item||"tooltip";n=i.applyNamesapce(n);const o=e.theme||["tooltipster-default",`${n}-theme`];t(`.${n}:not(".tooltipstered")`).tooltipster({maxWidth:parseInt(e.width),theme:o})},e.initSwitcher=function(e){"function"==typeof t.switcher?t(e).switcher():i.doLog("Missing switcher library")},e.onSwitchChange=function(e,n){t("body").delegate(e,"switcher-changed",n)},e.initColorPicker=function(e,n){"function"==typeof t.colorPick?(n=t.extend({initial:"",label:"",recent:!1,custom:!0,selectCb:function(){const e=this.element.attr("data-name"),n=this.color;this.element.css({backgroundColor:n,color:n}),t(`input[name="${e}"]`).val(n)}},n),t(e).colorPick({initialColor:n.initial,paletteLabel:n.label,allowRecent:n.recent,recentMax:0,allowCustomColor:n.custom,onColorSelected:n.selectCb}),t('[data-name="reset-color"]').click((function(n){n.preventDefault();const o=t(this).parent(".form-group");o.find(e).css("background","#d8d8d8"),o.find(".form-control").val("")}))):i.doLog("Missing color picker library")},e.modal=function(e,n){if("function"!=typeof t.modal)return void i.doLog("Missing modal library");e||(e="[data-modal]"),n=t.extend({duration:150,close:!1},n);t(e).on("click",(function(e){e.preventDefault();const o=t(this).attr("data-modal");if(!o)return;t(`.${o}-modal`).modal({fadeDuration:n.duration,showClose:n.close,escapeClose:!1,clickClose:!1})}))},e.initUpload=function(e){e||(e='input[type="file"]');const n=t(e);if("INPUT"!==n?.prop("tagName"))return;const o=n.parent("div");if(!o.length)return;o.hasClass("file-upload")||o.addClass("file-upload");const a=o.find("label");if(!a.length)return;if(a.attr("for")!==n.attr("id"))return;const s=".txt",r="text",c=1048576;n.attr("accept")||n.attr("accept",s),n.attr("data-type")||n.attr("data-type",r),n.attr("data-required")||n.attr("data-required","false"),n.removeAttr("multiple");const l=a.find("span")?.text()||a.text();n.attr("data-title",l);const d=n.parents("form");let u;d.length&&(u=d.find('button[type="submit"]')),n.on("change",(function(e){e.preventDefault();const n=t(this),o=e.target.files[0];if(!o)return;const a=i.getString("upload");if(o.size>c)return i.notify(a.size,"warning",0),void n.val("");const s=n.attr("data-required");u&&"true"==s&&u.prop("disabled",!1);const r=n.parent("div"),l=r.find("label"),d=l.find("i"),f=l.find("span"),g=l.find("small"),p=l.find("a"),m=n.attr("accept"),h=n.attr("data-title");r.addClass("uploaded"),f.length?f.text(a.added):l.appendChild(`<span>${a.added}</span>`),d.length&&(d.addClass("icon-check"),d.removeClass("icon-cloud-upload")),g.length&&g.text(`(${o.name})`),p.length&&(p.css("visibility","visible"),p.on("click",(function(e){e.preventDefault();const o=n.attr("data-required");u&&"true"==o&&u.prop("disabled",!0),n.val(""),r.removeClass("uploaded"),d.removeClass("icon-check"),d.addClass("icon-cloud-upload"),f.text(h),g.text(`(${m})`),t(this).css("visibility","hidden")})))}))},e.openInNewTab=function(t){window.open(t,"_blank")},e.navigateTab=function(e,o,a=1e4){if(!window.location.href.includes(n.namespace))return;e.on("click",(function(){const e=t(this).attr("id");e&&i.toStorage("nav-tab","#"+e,a)}));const s=i.getStorage("nav-tab");t(s).length&&t(s).tab("show"),o.on("click",(function(e){e.preventDefault();const n="#"+t(this).attr("data-target");t(n).length&&t(n).tab("show")}))},e.toStorage=function(t,e,n){t=i.applyNamesapce(t);const o={value:e,ttl:!!n&&Date.now()+parseInt(n)};localStorage.setItem(t,JSON.stringify(o))},e.getStorage=function(t){const e=t;t=i.applyNamesapce(t);let n,o=localStorage.getItem(t);return o=JSON.parse(o),o&&o?.ttl>Date.now()?n=o?.value:i.removeStorage(e),n},e.removeStorage=function(t){t=i.applyNamesapce(t),localStorage.removeItem(t)},e.purgeStorage=function(){localStorage.clear()},e.applyNamesapce=function(t){return n.namespace&&(t=`${n.namespace}-${t}`),t},e.online=function(t){if("function"==typeof t)t();else{const t=i.getString("online")||"online";i.notify(t,"success")}},e.offline=function(t){if("function"==typeof t)t();else{const t=i.getString("offline")||"offline";i.notify(t,"error",0)}},e.serviceWorker=function(t){"serviceWorker"in navigator&&(t=t||"/public/assets/admin/js/service-worker.js",t=i.getBaseUrl(t),navigator.serviceWorker.register(t).then((t=>i.doLog(`Service worker registered : ${t.scope}`))).catch((t=>i.doLog(`Service worker registration failed : ${t}`))))},e.detectOS=function(){const e=navigator.userAgent||navigator.vendor||window.opera;var n=/windows phone/i.test(e),o=/android/i.test(e),i=/iPad|iPhone|iPod/.test(e)&&!window.MSStream;n?(t(".windows-device").addClass("is-active"),t(".mobile-device").addClass("is-active")):o?(t(".android-device").addClass("is-active"),t(".mobile-device").addClass("is-active")):i?(t(".ios-device").addClass("is-active"),t(".mobile-device").addClass("is-active")):t(".non-mobile-device").addClass("is-active")},e.darkMode=function(){const e="dark-mode",n="is-dark-mode",o=t("body"),a=t('[data-name="dark-mode"]'),s=()=>{o.hasClass(n)||o.addClass(n)},r=()=>{const t=i.getStorage(e);return 1===parseInt(t)};r()?(s(),a.attr("checked",!0)):(o.hasClass(n)&&o.addClass(n),a.attr("checked",!1)),a.on("change",(function(){r()?(s(),localStorage.setItem(e,0),a.attr("checked",!1)):(o.addClass(active),a.attr("checked",!0),localStorage.setItem(e,1))})),a.on("change",(function(){a.prop("checked",this.checked)}))},e.initTable=function(e,n){const o=t(e);return o.length?(n=t.extend({dom:"rtip",ajax:{},order:[0,"asc"],language:{url:""},searching:!0,ordering:!0,pageLength:5,info:!0,paging:!0,select:!1,stateSave:!1,autoWidth:!1,destroy:!1,processing:!1,serverSide:!1,deferRender:!1,lengthMenu:!1,pagingType:"simple_numbers",columnDefs:[],buttons:[],initComplete:function(){},createdRow:function(){},fnDrawCallback:function(){}},n),o.DataTable({dom:settings.dom,ajax:settings.ajax,order:settings.order,language:settings.language,searching:settings.searching,ordering:settings.ordering,pageLength:settings.pageLength,info:settings.info,paging:settings.paging,select:settings.select,stateSave:settings.stateSave,autoWidth:settings.autoWidth,destroy:settings.destroy,processing:settings.processing,serverSide:settings.serverSide,deferRender:settings.deferRender,lengthMenu:settings.lengthMenu,pagingType:settings.pagingType,columnDefs:settings.columnDefs,buttons:settings.buttons,initComplete:settings.initComplete,createdRow:settings.createdRow,fnDrawCallback:settings.fnDrawCallback})):o},e.doNavbarScroll=function(e,n){n=n||"navbar-shrink";const o=t(e=e||"#main-nav");o.length&&(0===t(window).scrollTop()?o.removeClass(n):o.addClass(n))},e.doNavToggle=function(e,n){n=n||50;t(e=e||"#main-nav").length&&t("body").scrollspy({target:e,offset:n});const o=t(".navbar-toggler");t("#mobile-nav .nav-link").on("click",(function(){"none"!==o.css("display")&&o.click()}))},e.cookie=function(e=!0){if(!e)return;const n=window.location.hostname;if(document.cookie.includes(n))return;const o=i.getString("cookie"),a=i.getString("more"),s=o.title||"title",r=o.message||"message",c=o.accept||"accept",l=o.decline||"decline";let d=i.getLinking("privacy");d=i.getBaseUrl(d,!0);let u='\n\t\t\t<div class="cookie-wrapper">\n\t\t\t<div class="cookie-header">\n\t\t\t';u+='<span class="cookie-icon"></span>',u+=`\n\t\t\t<span class="cookie-title">${s}</span>\n\t\t\t</div>\n\t\t\t<div class="cookie-message">\n\t\t\t<p>${r}.\n\t\t\t`,d&&(u+=`<br><a href="${d}" rel="nofollow">${a}</a>`),u+=`\n\t\t\t</p>\n\t\t\t</div>\n\t\t\t<div class="cookie-action">\n\t\t\t<button class="cookie-button" data-action="accept">${c}</button>\n\t\t\t`,u+=`<button class="cookie-button" data-action="decline">${l}</button>`,u+="</div></div>",t("body").append(u);const f=t(".cookie-wrapper"),g=t(".cookie-button");f.addClass("show"),g.on("click",(function(e){e.preventDefault(),f.removeClass("show");if("accept"===t(this).attr("data-action")){const t=86400*30;document.cookie="COOKIES="+n+"; max-age="+t+"; path=/"}}))},e.click=function(e){"string"==typeof e&&(e=t(e)),e=e||t("[data-target]"),e?.length?e.on("click",(function(e){e.preventDefault();const n=t(this),o=n.attr("data-target");if(!o)return;const a="true"==n.attr("data-new");"up"==o?i.scrollTo():o.startsWith("#")||o.startsWith(".")?i.scrollTo(o):o.startsWith("/")?i.goTo(i.getBaseUrl()):o.startsWith("http")&&a?i.goTo(o,!0):o.startsWith("http")&&i.goTo(o)})):i.doLog("Missing element (click)")},e.scrollTo=function(e){if(void 0===e)t("html, body").animate({scrollTop:0},"smooth");else{const n=t(e);if(n.length){const e=30;t("html, body").animate({scrollTop:n.offset().top-e},"smooth")}}},e.onVisible=function(t,e,n=.5){if(!t||"function"!=typeof e)return void i.doLog("Selector & callback required");const o=document.querySelector(t);if(!o)return;i.doLog(`Observing element: ${t}`);new IntersectionObserver(((n,o)=>{n.forEach((n=>{n.isIntersecting&&(i.doLog(`Element is visible: ${t}`),e(n.target),o.unobserve(n.target))}))}),{root:null,threshold:n}).observe(o)},e.getBaseUrl=function(t,e=!1){let o=n.baseUrl||"";return"string"==typeof t&&(o=`${o}/${t}`),!0===e&&(o=`${o}/`),i.formatUrl(o,e)},e.setDefaultImage=function(e){e=e||`${n.assetUrl}/img/default.jpg`;const o=i.getBaseUrl(e);t("img").on("error",(function(){t(this).off("error").attr("src",o)}))},e.doLog=function(t){i.isDebug()&&console.log(t)},e.isDebug=function(){return!0===n.debug},e.getString=function(t){const e=n.strings;return void 0!==t?e[t]??null:e},e.getLinking=function(t){const e=n.linking;return void 0!==t?e[t]??null:e},e.goTo=function(t,e){t=t||"/",!0!==(e=e||!1)?window.location.href=t:window.open(link,"_blank")},e.getCurrentUrl=function(t,e=!1){let n=`${window.location.protocol}//${window.location.host}`;return"string"==typeof t&&(n=`${n}/${t}`),!0===e&&(n=`${n}/`),i.formatUrl(n,e)},e.formatUrl=function(t,e=!1){return"string"==typeof t&&(t=(t=(t=t.replace(/\\/g,"/")).replace(/([^:]\/)\/+/g,"$1")).replace(/^\/{2,}/,"/"),!0!==e&&(t=t.replace(/\/+$/,""))),t},e.toDate=function(t){const e=t.split("/"),n=new Date(e[2],e[1]-1,e[0]),o=("0"+n.getDate()).slice(-2),i=("0"+(n.getMonth()+1)).slice(-2);return`${n.getFullYear()}-${i}-${o}`},e.isValidUrl=function(t){return/^(https?:)?\/\//i.test(t)},e.isProtocol=function(t,e){for(let n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]+":"))return!0;return!1},e.isForm=function(t){return t?.length&&"FORM"===t?.prop("tagName")},e.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.toBool=function(t){return"bool|"+(t?1:0)},e.toInt=function(t){return"int|"+parseInt(t)},e.toFloat=function(t){return"float|"+parseFloat(t)},e.toStr=function(t){return null==t&&(t=""),t.toString()},e.parseObject=function(e){let n={};return"object"==typeof e&&t.each(e,((t,e)=>{const o=Object.keys(t)[0];n[o]=t[o]})),n},e.toObject=function(t){return Array.isArray(t)?t.reduce(((t,e)=>(t[e.name]=e.value,t)),{}):{}},e.isEmpty=function(t){return"object"==typeof t?0===Object.values(t).length:"array"==typeof t?0===t.length:""===t},e.splitString=function(t,e,n){n=n||"...",e=e||0;const o=t.substring(0,e)+add;return t.length>e?o:t},e.stripString=function(t){return t.replace(/<\/?[^>]+(>|$)/g,"")},e.highlightShortcode=function(){if(i.isDebug()){const t=/(\{[^}]*\}|\[[^\]]*\])/g,e=document.body.innerHTML.replace(t,(t=>`<span class="--debug-shortcode">${t}</span>`));document.body.innerHTML=e}},this},t.VanillePlugin=e}(jQuery);
//# sourceMappingURL=VanillePlugin.min.js.map